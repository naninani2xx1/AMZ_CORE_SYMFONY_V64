<div{{ attributes.defaults({
    'data-controller': 'core-table'
}) }}>
    {% import 'Admin/partials/macros.html.twig' as macros %}
    <div class="d-flex flex-wrap flex-stack mb-6">
        <!--begin::Title-->
        {{ macros.table_get_input_search() }}
        <!--end::Title-->
        <!--begin::Controls-->
        <div class="d-flex my-2">

        </div>
        <!--end::Controls-->
    </div>
    {% embed 'Admin/partials/table.html.twig' %}
        {% import 'Admin/partials/macros.html.twig' as macros %}
        {% block columns %}
            {{ macros.table_column_default("Order", 'text-start') }}
            {{ macros.table_column_default("Block Name", 'text-start') }}
            {{ macros.table_column_default("Type", 'text-start') }}
            {{ macros.table_column_default("CreatedAt", 'text-start') }}
            {{ macros.table_column_default("UpdatedAt",  'text-start') }}
        {% endblock %}
        {% block rows %}
            {% for item in computed.data %}
                <tr class="py-3 align-middle border-bottom border-gray-300 fs-7" data-controller="Admin--block-item"
                    data-Admin--block-item-url-value="{{ path('app_admin_block_update', {'id': item.id}) }}" id="block-item-{{ item.id }}"
                >
                    <td class="action-column">
                        <a href="{{ path('app_admin_block_edit', {'id': item.id}) }}" class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Edit" data-bs-original-title="Edit">
                                {{ macros.icon_edit() }}
                            </span>
                        </a>
                        <a href="{{ path('app_admin_block_preview', {'id': item.id}) }}" class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Preview" data-bs-original-title="Preview">
                                {{ macros.icon_eye() }}
                            </span>
                        </a>
                        <a href="#" data-action="{{ path('app_admin_block_delete', {'id': item.id, '_csrf_token': csrf_token('block-delete-' ~ item.id )}) }}"
                           data-amz-btn-remove
                           class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Delete" data-bs-original-title="Delete">
                                {{ macros.icon_delete() }}
                            </span>
                        </a>
                    </td>
                    <td>
                        <input class="form-control h-35px mw-70px" type="number"
                               data-Admin--block-item-prop-param="sortOrder" value="{{ item.sortOrder }}"
                               data-action="blur->Admin--block-item#sortOrder">
                    </td>
                    <td>{{ item.title }}</td>
                    <td>{{ item.type }}</td>
                    <td>{{ item.createdAt | date('d/m/Y H:i:a') }}</td>
                    <td>{{ item.updatedAt | date('d/m/Y H:i:a') }}</td>
                </tr>
            {% endfor %}
        {% endblock %}
    {% endembed %}
</div>
