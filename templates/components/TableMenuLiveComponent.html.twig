<div{{ attributes }}>
    {% import 'Admin/partials/macros.html.twig' as macros %}
    <div class="d-flex flex-wrap flex-stack mb-6">
        <!--begin::Title-->
        {{ macros.table_get_input_search() }}
        <!--end::Title-->
        <!--begin::Controls-->
        <div class="d-flex my-2">

        </div>
        <!--end::Controls-->
    </div>
    {% embed 'Admin/partials/table.html.twig' %}
        {% import 'Admin/partials/macros.html.twig' as macros %}
        {% block columns %}
            {{ macros.table_column_default("Author", 'text-start') }}
            {{ macros.table_column_default("Display", 'text-start') }}
            {{ macros.table_column_default("Menu Name", 'text-start') }}
            {{ macros.table_column_default("Position", 'text-start') }}
            {{ macros.table_column_default("CreatedAt", 'text-start') }}
            {{ macros.table_column_default("UpdatedAt",  'text-start') }}
        {% endblock %}
        {% block rows %}
            {% for item in computed.data %}
                <tr class="py-3 align-middle  border-bottom border-gray-300 fs-7">
                    <td class="action-column">
                        <a href="{{ path('app_admin_menu_edit', {'id': item.id}) }}"   data-amz-btn-open-modal class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Edit" data-bs-original-title="Edit">
                                {{ macros.icon_edit() }}
                            </span>
                        </a>
                        {% if type == menu_type_sub %}
                        <a href="{{ path('app_admin_menu_addchild', {'parentId': item.id}) }}"   data-amz-btn-open-modal class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Add child" data-bs-original-title="Add child">
                                  {{ macros.icon_add() }}
                            </span>
                        </a>
                        {% elseif type == menu_type_root %}
                            <a href="{{ path('app_admin_menu_child_index', {'parentId': item.id}) }}" class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Add child" data-bs-original-title="Add child">
                                  {{ macros.icon_add() }}
                            </span>
                            </a>
                        {% endif %}

                        <a href="#" data-amz-btn-remove
                           data-action="{{ path('app_admin_menu_delete', {'id': item.id, '_csrf_token': csrf_token('menu-delete-'~ item.id) }) }}" class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Delete" data-bs-original-title="Delete">
                                {{ macros.icon_delete() }}
                            </span>
                        </a>
                    </td>
                    <td>{{ item.author.username }}</td>
                    <td>{{ item.display }}</td>
                    <td>{{ item.name }}</td>
                    <td><span class="badge badge-primary fs-7">{{ item.position }}</span></td>
                    <td>{{ item.createdAt | date('d/m/Y H:i:a') }}</td>
                    <td>{{ item.updatedAt | date('d/m/Y H:i:a') }}</td>
                </tr>
                {% if type == menu_type_sub %}
                {% if item.children is not empty %}
                <tr>
                    <td colspan="1">
                    </td>
                    <td colspan="6">
                        <table class="table  table-row-dashed table-row-gray-500 gy-5 gs-5 mb-0">
                            <thead>
                            <tr class="fw-semibold fs-7 text-gray-800">
                                <th scope="col">Action</th>
                                <th scope="col">Child Name</th>
                                <th scope="col">Url</th>
                                <th scope="col">CreatedAt</th>
                                <th scope="col">UpdatedAt</th>
                            </tr>
                            </thead>
                            <tbody>
                                {% for child in item.children %}
                                <tr>
                                    <th scope="row">
                                        <a href="{{ path('app_admin_menu_edit', {'id': child.id}) }}"   data-amz-btn-open-modal class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                                            <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Edit" data-bs-original-title="Edit">
                                                {{ macros.icon_edit() }}
                                            </span>
                                        </a>

                                        <a href="#" data-amz-btn-remove
                                           data-action="{{ path('app_admin_menu_delete', {'id': child.id, '_csrf_token': csrf_token('menu-delete-'~ item.id) }) }}" class="btn btn-icon btn-active-light-primary w-30px h-30px me-2">
                                                <span data-bs-toggle="tooltip" data-bs-trigger="hover" aria-label="Delete" data-bs-original-title="Delete">
                                                    {{ macros.icon_delete() }}
                                                </span>
                                        </a>
                                    </th>
                                    <td>{{ child.name }}</td>
                                    <td>
                                        <a href="#">{{ absolute_url(child.url) }}</a>
                                    </td>
                                    <td>{{ child.createdAt | date('d/m/Y H:i:a') }}</td>
                                    <td>{{ child.updatedAt | date('d/m/Y H:i:a') }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </td>
                </tr>
                {% endif %}
                {% endif %}
            {% endfor %}
        {% endblock %}
    {% endembed %}
</div>
