{% embed 'Admin/partials/modal.html.twig' %}
    {% block title %}Edit Setting{% endblock %}
    {% block modalClass %}modal-dialog-centered p-10 mw-900px{% endblock %}
    {% block body %}
        {{ form_start(form) }}
        <div class="flex-row-fluid py-lg-5 px-lg-15">
            <!--begin::Step 3-->
            <div class="w-100">
                <!--begin::Input group-->
                <div class="fv-row mb-10">
                    <!--begin::Label-->
                    <label class="required fs-5 fw-semibold mb-2">Your Description</label>
                    <!--end::Label-->
                    <!--begin::Input-->
                    {{ form_widget(form.description) }}
                    <!--end::Input-->
                </div>
                <!--end::Input group-->
                <!--begin::Input group-->
                <div class="fv-row" data-Admin--setting-add-target="settingValue">
                    <!--begin::Label-->
                    <label class="d-flex align-items-center fs-5 fw-semibold mb-4">
                        <span class="required">
                            {% if setting.settingType  == setting_type_json %}
                                Your Value
                            {% else %}
                                {{ form.settingValue.vars.label }}
                            {% endif %}
                        </span>
                    </label>
                    <!--end::Label-->
                    <div>
                        {% if setting.settingType == setting_type_image %}
                            <div class="flex-column d-flex gap-3" data-controller="core-gallery"
                                 data-action="Admin--picture-global:pickedPicture@window->core-gallery#listenPickedPicture">
                                <div class="d-flex gap-2">
                                    <a href="#" data-action="click->core-gallery#open:prevent"
                                       class="btn btn-sm fw-bold btn-primary">Pick</a>
                                    <a href="#"
                                       class="btn btn-sm fw-bold btn-secondary">Cancel</a>
                                </div>
                                <div data-core-gallery-target="areaReview">
                                    <img src="{{ asset(setting.settingValue) }}" alt="review" class="mw-275px img-thumbnail" data-core-gallery-target="review">
                                </div>
                                {{ form_widget(form.settingValue, {attr: {'data-core-gallery-target': "input"}}) }}
                            </div>
                        {% elseif setting.settingType  == setting_type_json %}
                            <a href="#" data-action="click->Admin--setting-add#addItem:prevent"
                               class="btn btn-sm fw-bold btn-primary"
                               data-index="{{ form.settingItems|length > 0 ? form.settingItems|last.vars.name + 1 : 0 }}"
                               data-Admin--setting-add-template-param="{{ include('Admin/views/setting/add_item.html.twig') |e('html_attr')}}"
                            ><i class="ki-duotone ki-plus fs-2">
                                </i>Add Item</a>
                            <div data-Admin--setting-add-target="listItem" class="my-2"
                            >
                                {% for item in form.settingItems.children %}
                                    {{ include('Admin/views/setting/edit_item.html.twig') }}
                                {% endfor %}
                            </div>
                        {% else %}
                            {{ form_widget(form.settingValue) }}
                        {% endif %}
                    </div>
                </div>
                <!--end::Input group-->
            </div>
            <!--end::Step 3-->
            <button type="button" class="btn btn-primary my-2"
                    data-action="click->Admin--setting-add#onSubmit">Save Changes
            </button>
        </div>
        {{ form_end(form) }}
    {% endblock %}
{% endembed %}