{% extends 'Admin/base.html.twig' %}

{% block title %}CMS - Add Category{% endblock %}

{% block toolbar %}
    {% embed 'Admin/partials/toolbar.html.twig' %}
        {% block toolbar_title %}Add Category{% endblock toolbar_title %}
        {% block toolbar_breadcrumbs %}
            <li class="breadcrumb-item text-muted">
                <a href="{{ path('app_admin_category_index') }}" class="text-muted text-hover-primary">Categories</a>
            </li>
            <li class="breadcrumb-item">
                <span class="bullet bg-gray-500 w-5px h-2px"></span>
            </li>
            <li class="breadcrumb-item text-muted">Add</li>
        {% endblock toolbar_breadcrumbs %}
    {% endembed %}
{% endblock %}

{% block body %}
    {% import 'Admin/partials/macros.html.twig' as macros %}

    {{ form_start(form, { attr: { action:path('app_admin_category_add'),class: "form d-flex flex-column flex-lg-row" } }) }}

    <!--begin::Aside column-->
    <div class="d-flex flex-column gap-7 gap-lg-10 w-100 w-lg-300px mb-7 me-lg-10">

        <!-- Thumbnail Upload -->
        <div class="card card-flush py-4">
            <div class="card-header">
                <div class="card-title">
                    <h2>Category Thumbnail</h2>
                </div>
            </div>
            <div class="card-body text-center pt-0">
                <style>.image-input-placeholder { background-image: url('{{ asset('themes/media/svg/files/blank-image.svg') }}'); } [data-bs-theme="dark"] .image-input-placeholder { background-image: url('{{ asset('themes/media/svg/files/blank-image-dark.svg') }}'); }</style>
                <div class="image-input image-input-empty image-input-outline image-input-placeholder mb-3" data-kt-image-input="true">
                    <div class="image-input-wrapper w-150px h-150px"></div>
                    <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                           data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Change thumbnail">
                        <i class="ki-duotone ki-pencil fs-7"></i>
                        {{ form_widget(form.thumbnail) }}
                    </label>
                </div>
                <div class="text-muted fs-7">Upload icon & thumbnail. Accepted: png, jpg, jpeg, webp.</div>
            </div>
        </div>
        <div class="card card-flush py-4">
            <div class="card-header">
                <div class="card-title">
                    <h2>Category Icon</h2>
                </div>
            </div>
            <div class="card-body text-center pt-0">
                <style>.image-input-placeholder { background-image: url('{{ asset('themes/media/svg/files/blank-image.svg') }}'); } [data-bs-theme="dark"] .image-input-placeholder { background-image: url('{{ asset('themes/media/svg/files/blank-image-dark.svg') }}'); }</style>
                <div class="image-input image-input-empty image-input-outline image-input-placeholder mb-3" data-kt-image-input="true">
                    <div class="image-input-wrapper w-150px h-150px"></div>

                    <label class="btn btn-icon btn-circle btn-active-color-primary w-25px h-25px bg-body shadow"
                           data-kt-image-input-action="change" data-bs-toggle="tooltip" title="Change thumbnail">
                        <i class="ki-duotone ki-pencil fs-7"></i>
                        {{ form_widget(form.icon) }}
                    </label>
                </div>
                <div class="text-muted fs-7">Upload icon & thumbnail. Accepted: png, jpg, jpeg, webp.</div>
            </div>
        </div>
    </div>

    <!--end::Aside column-->

    <!--begin::Main column-->
    <div class="d-flex flex-column flex-row-fluid gap-7 gap-lg-10">

        <!--begin:::Tabs-->
        <ul class="nav nav-custom nav-tabs nav-line-tabs nav-line-tabs-2x border-0 fs-4 fw-semibold mb-n2">
            <li class="nav-item">
                <a class="nav-link text-active-primary pb-4 active" data-bs-toggle="tab" href="#category_general">General</a>
            </li>
            <li class="nav-item">
                <a class="nav-link text-active-primary pb-4" data-bs-toggle="tab" href="#category_advanced">Advanced</a>
            </li>
        </ul>
        <!--end:::Tabs-->

        <div class="tab-content">
            <!-- General Tab -->
            <div class="tab-pane fade show active" id="category_general" role="tab-panel">
                <div class="card card-flush py-4">
                    <div class="card-header">
                        <div class="card-title">
                            <h2>General Information</h2>
                        </div>
                    </div>
                    <div class="card-body pt-0">

                        <!-- Title -->
                        <div class="mb-10 fv-row">
                            <label class="required form-label">Category Name</label>
                            {{ form_widget(form.title, { attr: { class: "form-control" } }) }}
                            {{ form_errors(form.title) }}
                        </div>

                        <!-- Slug -->
                        <div class="mb-10 fv-row">
                            <label class="required form-label">Slug</label>
                            {{ form_widget(form.slug, { attr: { class: "form-control" } }) }}
                            {{ form_errors(form.slug) }}
                        </div>

                        <!-- Description -->
                        <div class="mb-10 fv-row">
                            <label class="form-label">Description</label>
                            {{ form_widget(form.description, { attr: { class: "form-control", rows: 4 } }) }}
                            {{ form_errors(form.description) }}
                        </div>

                    </div>
                </div>
            </div>


            <!-- Advanced Tab -->
            <div class="tab-pane fade" id="category_advanced" role="tab-panel">
                <div class="card card-flush py-4">
                    <div class="card-header">
                        <div class="card-title">
                            <h2>Choose Directory </h2>
                        </div>
                    </div>
                    <div class="card-body pt-0">

                        <!-- Custom Path -->
                        <div class="mb-10 fv-row">
                            <label class="form-label">Custom Path</label>
                            {{ form_widget(form.customPath, { attr: { class: "form-control" } }) }}
                            {{ form_errors(form.customPath) }}
                        </div>

                        <!-- Parent Category -->
                        <div class="mb-10 fv-row">
                            <label class="form-label">Parent Category</label>
                            {{ form_widget(form.parent, { attr: { class: "form-select" } }) }}
                            {{ form_errors(form.parent) }}
                        </div>

                    </div>
                </div>
            </div>


            <!-- Submit Button -->
        <div class="d-flex justify-content-end">
            <a href="{{ path('app_admin_category_index') }}" class="btn btn-light me-5">Cancel</a>
            <button type="submit" class="btn btn-primary">
                <span class="indicator-label">Save Category</span>
                <span class="indicator-progress">Please wait...
                    <span class="spinner-border spinner-border-sm align-middle ms-2"></span>
                </span>
            </button>
        </div>

    </div>
    <!--end::Main column-->

    {{ form_end(form) }}
{% endblock %}
